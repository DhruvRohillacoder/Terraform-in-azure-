trigger:
- main

pool: 
  name: dhruvagent  # Apna self-hosted agent pool ka naam

steps:
# Terraform Init
- task: TerraformTask@5
  inputs:
    provider: 'azurerm'
    command: 'init'
    workingDirectory: '$(System.DefaultWorkingDirectory)/basic code'
    backendServiceArm: 'dhruvconection'  # <-- yahan apna Azure service connection name daalo

# Terraform Plan
- task: TerraformTask@5
  inputs:
    provider: 'azurerm'
    command: 'plan'
    workingDirectory: '$(System.DefaultWorkingDirectory)/basic code'
    environmentServiceNameAzureRM: 'dhruvconection'
